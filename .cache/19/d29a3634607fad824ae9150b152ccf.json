{"id":"mnjM","dependencies":[{"name":"/Users/emmanuelmakanjuola/Projects/4-natours/package.json","includedInParent":true,"mtime":1757271763383},{"name":"axios","loc":{"line":2,"column":18,"index":53},"parent":"/Users/emmanuelmakanjuola/Projects/4-natours/public/js/login.js","resolved":"/Users/emmanuelmakanjuola/Projects/4-natours/node_modules/axios/index.js"},{"name":"./alert","loc":{"line":3,"column":26,"index":88},"parent":"/Users/emmanuelmakanjuola/Projects/4-natours/public/js/login.js","resolved":"/Users/emmanuelmakanjuola/Projects/4-natours/public/js/alert.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.logout=exports.login=void 0;var t=e(require(\"axios\")),r=require(\"./alert\");function e(t){return t&&t.__esModule?t:{default:t}}function n(){var t,r,e=\"function\"==typeof Symbol?Symbol:{},u=e.iterator||\"@@iterator\",i=e.toStringTag||\"@@toStringTag\";function a(e,n,u,i){var a=n&&n.prototype instanceof s?n:s,f=Object.create(a.prototype);return o(f,\"_invoke\",function(e,n,o){var u,i,a,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(r,e){return u=r,i=0,a=t,p.n=e,c}};function v(e,n){for(i=e,a=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],v=p.p,d=u[2];e>3?(o=d===n)&&(a=u[(i=u[4])?5:(i=3,3)],u[4]=u[5]=t):u[0]<=v&&((o=e<2&&v<u[1])?(i=0,p.v=n,p.n=u[1]):v<d&&(o=e<3||u[0]>n||n>d)&&(u[4]=e,u[5]=n,p.n=d,i=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError(\"Generator is already running\");for(l&&1===f&&v(f,d),i=f,a=d;(r=i<2?t:a)||!l;){u||(i?i<3?(i>1&&(p.n=-1),v(i,a)):p.n=a:p.v=a);try{if(s=2,u){if(i||(o=\"next\"),r=u[o]){if(!(r=r.call(u,a)))throw TypeError(\"iterator result is not an object\");if(!r.done)return r;a=r.value,i<2&&(i=0)}else 1===i&&(r=u.return)&&r.call(u),i<2&&(a=TypeError(\"The iterator does not provide a '\"+o+\"' method\"),i=1);u=t}else if((r=(l=p.n<0)?a:e.call(n,p))!==c)break}catch(r){u=t,i=1,a=r}finally{s=1}}return{value:r,done:l}}}(e,u,i),!0),f}var c={};function s(){}function f(){}function l(){}r=Object.getPrototypeOf;var p=[][u]?r(r([][u]())):(o(r={},u,function(){return this}),r),v=l.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,o(t,i,\"GeneratorFunction\")),t.prototype=Object.create(v),t}return f.prototype=l,o(v,\"constructor\",l),o(l,\"constructor\",f),f.displayName=\"GeneratorFunction\",o(l,i,\"GeneratorFunction\"),o(v),o(v,i,\"Generator\"),o(v,u,function(){return this}),o(v,\"toString\",function(){return\"[object Generator]\"}),(n=function(){return{w:a,m:d}})()}function o(t,r,e,n){var u=Object.defineProperty;try{u({},\"\",{})}catch(t){u=0}(o=function(t,r,e,n){function i(r,e){o(t,r,function(t){return this._invoke(r,e,t)})}r?u?u(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e:(i(\"next\",0),i(\"throw\",1),i(\"return\",2))})(t,r,e,n)}function u(t,r,e,n,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void e(t)}a.done?r(c):Promise.resolve(c).then(n,o)}function i(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){u(i,n,o,a,c,\"next\",t)}function c(t){u(i,n,o,a,c,\"throw\",t)}a(void 0)})}}var a=exports.login=function(){var e=i(n().m(function e(o,u){var i;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,t.default)({method:\"POST\",url:\"/api/v1/users/login\",data:{email:o,password:u},credentials:\"include\",withCredentials:!0,headers:{\"Content-Type\":\"application/json\"}});case 1:\"success\"===e.v.data.status&&((0,r.showAlert)(\"success\",\"Logged in successfully!\"),window.setTimeout(function(){location.assign(\"/\")},1500)),e.n=3;break;case 2:e.p=2,i=e.v,(0,r.showAlert)(\"error\",i.response.data.message);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,r){return e.apply(this,arguments)}}(),c=exports.logout=function(){var e=i(n().m(function e(){return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,t.default)({method:\"GET\",url:\"/api/v1/users/logout\"});case 1:(e.v.data.status=\"success\")&&location.reload(!0),e.n=3;break;case 2:e.p=2,e.v,(0,r.showAlert)(\"error\",\"Error Logging out! Try Again!\");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();"},"sourceMaps":null,"error":null,"hash":"bd1e11f7d1d45877441f0f05dca48d11","cacheData":{"env":{}}}